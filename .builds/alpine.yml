image: alpine/edge
sources:
  - https://git.sr.ht/~lattis/crts
packages:
  - meson
  - ncurses-dev
  - ninja
  - wayland-dev
  - wayland-protocols
tasks:
  - setup: |
      cd crts
      meson build -Dbuild-extras=true -Dbuild-terragen=true -Dbuild-tests=true -Dglfw3:glfw_backend=wayland
  - build: |
      cd crts
      ninja -C build
  - test: |
      cd crts
      ninja -C build test
